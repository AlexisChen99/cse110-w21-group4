<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Potato Timer</title>
    <link rel="stylesheet" href="potatoTheme.css">
    <script src="app.js"></script>
</head>

<body>
    <!-- <img src="" id="sky"> -->
    <div class="content-wrapper">
        <p class="title" id="title">Potato Timer</p>

        <p class="phase" id="phaseDisplay">Work</p>
        <img src="img/settings.png" alt="Settings" id="settings-icon">

        <div class="circle" id="circle">
            <p class="timer" id="timerDisplay">25:00</p>
        </div>

        <div class="button-wrapper">
            <button class="reset" id="reset" onclick="reset()">Reset</button>
            <button class="start-stop" id="start" onclick="start()">Start</button>
        </div>

    </div>

    <div id="settings-menu">
        <p>Settings</p>
        <p id="close"> Close</p>
        <div class="choose-theme" id="choose-theme">
            <button id="theme-light" onclick="light()">Light Theme</button>
            <button id="theme-dark" onclick="dark()">Dark Theme</button>
            <button id="theme-potato" onclick="potato()">Potato Theme</button>
        </div>

        <form class="form-container" id="user-input">
            <label for="work" class="field-label">Work Time</label>
            <input type="text" class="custom-time" id="work_length" value="25:00">
            <label for="work" class="field-label">Short Break</label>
            <input type="text" class="custom-time" id="short_break" value="05:00">
            <label for="work" class="field-label">Long Break</label>
            <input type="text" class="custom-time" id="long_break" value="15:00">
            <label for="work" class="field-label">Volume (%)</label>
            <input type="text" class="custom-volume" id="volume" value="50">
            <img src="img/volume.png" alt="Mute?" class="volume-icon" id="volume-icon">
        </form>
    </div>
</body>

<script>
    window.onload = function () {
        const settings = document.getElementById('settings-icon');
        settings.addEventListener("click", function () {
            document.getElementById('settings-menu').style.display = 'block';
        });

        const close = document.getElementById('close');
        close.addEventListener('click', function () {
            document.getElementById('settings-menu').style.display = 'none';
        })
        const app = document.getElementsByTagName("BODY")[0];
        app.setAttribute("data-light-mode", "potato");
        // Moved the default setting into the on-page load.
    }

    function potato() {
        var app = document.getElementsByTagName("BODY")[0];
        app.setAttribute("data-light-mode", "potato");
        var circle = document.getElementById('circle');
        circle.style.backgroundColor = '#ff0';
        circle.style["boxShadow"] = '0 0 20px 20px #ff0';
        circle.style.border = '5px solid #ff0';

        document.getElementById('timerDisplay').style.color = '#333';
        document.getElementById('title').style.color = '#333';
        document.getElementById('phaseDisplay').style.color = '#333';
    }

    function dark() {
        var app = document.getElementsByTagName("BODY")[0];
        app.setAttribute("data-light-mode", "dark");
        var circle = document.getElementById('circle');
        circle.style.backgroundColor = '#333';
        circle.style["boxShadow"] = '0 0 10px 10px white';
        circle.style.border = '5px solid white';

        document.getElementById('timerDisplay').style.color = 'white';
        document.getElementById('title').style.color = 'white';
        document.getElementById('phaseDisplay').style.color = 'white';
    }

    function light() {
        var app = document.getElementsByTagName("BODY")[0];
        app.setAttribute("data-light-mode", "light");
        var circle = document.getElementById('circle');
        circle.style.backgroundColor = 'white';
        circle.style["boxShadow"] = '0 0 10px 10px #333';
        circle.style.border = '5px solid #333';

        document.getElementById('timerDisplay').style.color = '#333';
        document.getElementById('title').style.color = '#333';
        document.getElementById('phaseDisplay').style.color = '#333';
    }

</script>